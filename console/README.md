# CurrencyRates

Консольная утилита для получения курсов валют Центрального Банка Российской Федерации (ЦБ РФ) за определенную дату. Утилита использует [официальное API ЦБ РФ](https://www.cbr.ru/development/sxml/ "Документация к API ЦБ РФ") для получения данных.

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта.


`$ git clone https://github.com/paych3ck/CurrencyRates.git`


2. Убедитесь, что у вас установлен Python версии 3 и выше.


`python --version`


3. Установите необходимые сторонние библиотеки, запустив команду:


`pip install -r requirements.txt`


## Использование

Запустите консоль и перейдите в директорию проекта.

Для получения курса валюты за определенную дату, используйте следующую команду:


`python currency_rates.py --code=<КОД_ВАЛЮТЫ> --date=<ДАТА>`


Замените <КОД_ВАЛЮТЫ> на трехбуквенный код валюты в формате ISO 4217 (например, USD для доллара США) и <ДАТА> на дату в формате YYYY-MM-DD.

Пример:


`python currency_rates.py --code=USD --date=2022-10-08`


Вывод будет выглядеть следующим образом:


USD (Доллар США): 61,2475


## Ошибки и исключения

- Если указанная дата не соответствует формату YYYY-MM-DD, будет выведено сообщение "Введите корректную дату!".
- Если указанная дата больше текущей даты, будет выведено сообщение "Введите дату до сегодняшнего дня!".
- Если при получении курсов валют произошла ошибка, будет выведено сообщение "Ошибка при получении курсов валют!".
- Если указанный код валюты не найден, будет выведено сообщение "Валюта с кодом <код_валюты> не найдена".

## Используемые библиотеки

- argparse: для обработки аргументов командной строки.
- requests: для отправки HTTP-запросов и получения данных из API ЦБ РФ.
- datetime: для работы с датами и временем.
- xml.etree.ElementTree: для работы с XML данными, полученными от API ЦБ РФ.

## Тесты

Вы можете запустить тесты для проверки функциональности программы. Для этого введите следующую команду (дополнительно можно использовать параметр verbosity):


`python -m unittest cr_tests.py`


Тесты проверяют следующие сценарии:

- Успешное получение курса валюты.
- Обработка ошибки при указании недопустимого кода валюты.
- Обработка ошибки при указании некорректной даты.
- Обработка ошибки при указании даты в будущем (в качестве будущей даты используется дата, большая текущей на один день).
